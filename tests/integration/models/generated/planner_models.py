# generated by datamodel-codegen:
#   filename:  http://localhost:8080/planner-service/v3/api-docs
#   timestamp: 2026-01-19T23:09:40+00:00

from __future__ import annotations
from datetime import datetime

from enum import StrEnum

from pydantic import AwareDatetime, BaseModel, ConfigDict, conint


class UpdateTimetableRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    name: str


class ClassTimeInfo(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    day: str
    startTime: str
    endTime: str


class TimetableCourseResponse(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    courseId: int
    courseCode: str | None = None
    courseName: str | None = None
    professor: str | None = None
    credits: int | None = None
    classroom: str | None = None
    campus: str | None = None
    classTimes: list[ClassTimeInfo]


class TimetableItemResponse(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: int
    courseId: int
    courseCode: str | None = None
    courseName: str | None = None
    professor: str | None = None
    credits: int | None = None
    classroom: str | None = None
    campus: str | None = None
    classTimes: list[ClassTimeInfo]
    addedAt: datetime


class TimetableResponse(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: int
    userId: int
    name: str
    openingYear: int
    semester: str
    createdAt: datetime
    updatedAt: datetime
    items: list[TimetableItemResponse]
    excludedCourses: list[TimetableCourseResponse]


class UpdateScenarioRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    name: str | None = None
    description: str | None = None


class ScenarioResponse(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: int
    userId: int
    name: str
    description: str | None = None
    parentScenarioId: int | None = None
    failedCourseIds: list[int]
    orderIndex: int | None = None
    timetable: TimetableResponse
    childScenarios: list[ScenarioResponse]
    createdAt: datetime
    updatedAt: datetime


class AddToWishlistRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    courseId: int
    priority: conint(ge=1, le=5)


class ClassTimeDto(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    day: str
    startTime: str
    endTime: str


class WishlistItemResponse(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: int
    userId: int
    courseId: int
    courseName: str | None = None
    professor: str | None = None
    priority: int
    classroom: str | None = None
    classTimes: list[ClassTimeDto] | None = None
    addedAt: datetime


class CreateTimetableRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    name: str
    openingYear: int
    semester: str


class AddCourseRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    courseId: int


class CreateAlternativeTimetableRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    name: str
    excludedCourseIds: list[int]


class CreateScenarioRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    name: str
    description: str | None = None
    timetableRequest: CreateTimetableRequest | None = None
    existingTimetableId: int | None = None


class NavigationRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    failedCourseIds: list[int]


class CreateAlternativeScenarioRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    name: str
    description: str | None = None
    failedCourseIds: list[int]
    timetableRequest: CreateTimetableRequest | None = None
    existingTimetableId: int | None = None
    orderIndex: int | None = None


class StartRegistrationRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    name: str | None = None
    scenarioId: int


class Status(StrEnum):
    IN_PROGRESS = 'IN_PROGRESS'
    COMPLETED = 'COMPLETED'
    CANCELLED = 'CANCELLED'


class RegistrationStepResponse(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: int
    scenarioId: int
    scenarioName: str
    succeededCourses: list[int]
    failedCourses: list[int]
    canceledCourses: list[int]
    nextScenarioId: int | None = None
    nextScenarioName: str | None = None
    notes: str | None = None
    timestamp: datetime


class AddStepRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    succeededCourses: list[int]
    failedCourses: list[int]
    canceledCourses: list[int]
    notes: str | None = None


class UpdateWishlistRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    priority: conint(ge=1)


class RegistrationResponse(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: int
    userId: int
    name: str
    startScenario: ScenarioResponse
    currentScenario: ScenarioResponse
    status: Status
    startedAt: datetime
    completedAt: datetime | None = None
    succeededCourses: list[int]
    failedCourses: list[int]
    canceledCourses: list[int]
    steps: list[RegistrationStepResponse]


ScenarioResponse.model_rebuild()
