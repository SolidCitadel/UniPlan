# generated by datamodel-codegen:
#   filename:  http://localhost:8080/user-service/v3/api-docs
#   timestamp: 2026-01-19T23:09:39+00:00

from __future__ import annotations
from datetime import datetime

from enum import StrEnum

from pydantic import AwareDatetime, BaseModel, ConfigDict, Field, constr


class SignupRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    email: str = Field(..., description='이메일', examples=['user@example.com'])
    password: constr(min_length=6, max_length=20) = Field(
        ..., description='비밀번호', examples=['password123!']
    )
    name: constr(min_length=0, max_length=100) = Field(
        ..., description='이름', examples=['홍길동']
    )
    universityId: int = Field(..., description='대학 ID', examples=[1])


class UserInfo(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: int = Field(..., description='사용자 ID')
    email: str = Field(..., description='사용자 이메일')
    name: str = Field(..., description='사용자 이름')
    role: str = Field(..., description='사용자 역할', examples=['USER'])
    universityId: int = Field(..., description='대학 ID')
    universityName: str = Field(..., description='대학 이름')


class LoginRequest(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    email: str = Field(..., description='이메일', examples=['user@example.com'])
    password: str = Field(..., description='비밀번호', examples=['password123!'])


class Role(StrEnum):
    USER = 'USER'
    ADMIN = 'ADMIN'


class Status(StrEnum):
    ACTIVE = 'ACTIVE'
    INACTIVE = 'INACTIVE'
    DELETED = 'DELETED'


class UserResponse(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: int
    googleId: str | None = None
    email: str
    name: str | None = None
    picture: str | None = None
    displayName: str | None = None
    role: Role
    status: Status
    createdAt: datetime
    updatedAt: datetime | None = None
    universityId: int = Field(..., description='사용자 소속 대학 ID')


class UniversityResponse(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: int = Field(..., description='대학 ID')
    name: str = Field(..., description='대학 이름')
    code: str = Field(..., description='대학 코드')


class AuthResponse(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    accessToken: str = Field(..., description='액세스 토큰 (JWT)')
    refreshToken: str = Field(..., description='리프레시 토큰 (JWT)')
    user: UserInfo = Field(..., description='사용자 정보')
